# 0. 前言

容器技术作为底层基础软件设施的核心技术，其核心价值主要是提高了对业务应用运行时的隔离性和虚拟化性能。在近些年来云计算领域中容器、微服务、开发运维实践\(DevOps\)等技术的推动发展下，软件开发人员遇到了前所未有的基础设施搭建的困境需要解决。公有云如亚马逊，私有云如Openstack等都仅仅提供了开发部署业务需要的基础组件，所有搭建应用平台的基础设施过程，基本都是依赖资深开发运维工程师的经验来支撑，水平也呈现良莠不齐的困境。在为了解决业务不断扩张中力不从心的情况，业内创业者开始搭建各自理解的PaaS平台服务，业内知名的如Heroku就是在这样的背景下迅速发展起来的。基于公有云组件服务之上搭建的PaaS平台虽然能解决一些应用部署分发的问题，但是大量的企业用户仍然面临更大的困境，存在大量现成的基础设施资源无法复用。所以，企业内部的开发者一般会选择开源软件去构建自己的应用开发部署平台。随着容器开源技术Docker的快速引入，大家逐渐注意到以Docker、Kubernetes为核心的优秀容器工具链可以帮助开发者在很少的资源投入下就可以构建出标准的企业应用集成设施平台。经过5年多容器技术的发展，Linux基金会发起成立云原生计算基金会（CNCF），引导开源软件的使用者搭建标准可参考的企业级云基础设施架构。

## 1. 国内容器技术的现状

容器工具 Docker 仅是一个命令行可执行文件，但是这个可执行文件在代码构成上是包含两部分独立的进程逻辑的，通过配置参数分别可以启动服务端或者客户端进程逻辑。Docker使用体验上简单易懂，但是对Linux系统背景知识要求很多，需要开发者对应用的启动流程、Linux内核系统知识熟悉之后才能真正的掌握容器运行的整个过程。笔者正是基于这个考虑，决定结合自己这几年的切身实践经验，系统整理并记录一些对应用容器化过程中遇到的问题可以参考的解决方法的工具书。在构思孕育这样一本书的过程中，笔者经历了容器技术在国内从2014年开始出现国内社区流行学习Docker技术到2017年国内企业开始流行应用容器化生产落地实践的潮起潮落。对于国内互联网和传统企业在大胆尝试和落地容器技术过程中遇到的问题，即使是国际上容器技术的布道者Docker公司也因为远在美国，而对容器技术在国内的布道少有影响。国内容器技术的经验积累都是靠国内用户自己和社区的力量才得到第一手的资料，其中遇到的很多问题都是在不确定和反复尝试的迭代中得到验证并开始推广。所以，本书与其他类别的容器技术书最不同的地方在于围绕国内容器技术爱好者的痛点，系统完整的讲清楚容器技术的方方面面需要注意的事项和一些实践思路，帮助大家在遇到问题的时候可以直接拿来参考对比。

## 2. 容器技术到底应该怎么学

从实践的角度来看，把应用打包成容器镜像，并部署到容器集群这个过程是大家最基本的需求。但是因为容器起来后，整个生命周期都需要我们有计划的维护。所以，不管你是要实现持续集成、持续发布还是持续部署，容器都需要了解。从最基本的命令行工具的熟悉，到集群系统的配置我们都需要了解和掌握。但是作为开源技术，单单容器运行时引擎就有好几种，比如Docker、Pouch Container、Kata Container、Rkt、CRI-O,、Podman等等 。作为工具书，不可能把所有的工具命令方法都介绍一遍，所以我们会重点介绍主流容器工具Docker并带出一些业务场景的问题，思考容器化过程中需要注意的问题并整理出一些生产实践方法来应对解决。











